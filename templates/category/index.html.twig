{% extends 'base.html.twig' %}

{% block body %}
<!DOCTYPE html>
<html>
<head>
  <title>Add Product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style>
    .container {
      font-family: Palatino;
    }

    form {
      margin-bottom: 20px;
      background-color:#F5F5F5;
    }

    .container {
      display: flex;
      justify-content: center;
    }

    form {
    }

    form > div {
      padding: 10px;
    }

    h1 {
      text-align: center;
    }

    .image-preview-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .preview-image {
      max-width: 150px;
      max-height: 150px;
      width: 150px; 
      height: 150px;
      object-fit: contain; 
    }

  </style>
</head>

<body>
  <div class="container">
    {{ form_start(product_form) }}
   <h3 style=" center;margin-top:10%;margin-left:15%">ADD PRODUCT</h3>  
      <div class="col">
        <label for="product_name">{{ field_label(product_form.Name) }}</label>
        <input type="text" value="{{ field_value(product_form.Name) }}" name="{{ field_name(product_form.Name) }}" class="form-control">
      </div>
    <div>
      <label for="product_Photo">{{ field_label(product_form.Photo) }}</label>
      <input type="file" name="{{ field_name(product_form.Photo) }}" class="form-control" id="photoInput">
    </div>

    <!-- Container for image preview -->
    <div class="image-preview-container">
      <img src="#" alt="Preview Image" class="preview-image" id="previewImage">
    </div>

    <!-- Center the buttons using Bootstrap -->
    <div class="d-flex justify-content-center my-3">
      <input type="submit" value="Submit" class="btn btn-primary mx-2">
      <input type="button" value="Clear" onclick="clearForm()" class="btn btn-secondary mx-2">
    </div>

    {{ form_end(product_form) }}
  </div>

  <script>
    function clearForm() {
      document.querySelector("form").reset();
      document.getElementById("previewImage").src = "#";
    }

    document.getElementById("photoInput").addEventListener("change", function() {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.addEventListener("load", function() {
          document.getElementById("previewImage").src = reader.result;
        });
        reader.readAsDataURL(file);
      }
    });
  </script>
</body>
</html>
{% endblock %}
