{% extends 'base.html.twig' %}

{% block title %}List of Order{% endblock %}

{% block body %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
 <style>
   .display-product-table table {
      width: 100%;
      text-align: center;
    }

    .display-product-table table thead th {
      padding: 1.5rem;
      font-size: 1.5rem;
      background-color: black;
      color: white;
    }

    .display-product-table table td {
      padding: 1.5rem;
      font-size: 2rem;
      color: var(--black);
      background-color: var(--black);
    }

    .display-product-table table td:first-child {
      padding: 0;
    }

    .display-product-table table tr:nth-child(odd) {
      background-color: #f9f9f9;
      color: black;
    }

    .display-product-table table tr:nth-child(even) {
      background-color: #ececec; 
      color: black;
    }

    .display-product-table .empty {
      margin-bottom: 2rem;
      text-align: center;
      background-color: var(--bg-black);
      color: var(--black);
      font-size: 2rem;
      padding: 1.5rem;
    }
      
    .product-image {
      max-width: 200px; 
      max-height: 200px; 
      object-fit: contain; 
    }
    
    .btn {
      display: block;
      width: 100%;
      text-align: center;
      font-size: 1.5rem;
      padding: 0.1rem 0.1rem;
      border-radius: 0.5rem;
      cursor: pointer;
      margin-top: 1rem;
    }
    
    .btn:hover {
      background-color: var(--black);
      color: var(--white);
    }

    .btn.btn-danger {
      background-color: red;
      color: #ececec;
    }

    .btn.btn-warning {
      background-color: orange;
      color: #ececec;
    }
 </style>   
    <div class="container">
    <div style="align-items: center">
    <section class="display-product-table">
        <table class="table table-bordered" style="border">
            <thead>
                <tr>
                    <th>Index</th>
                    <th>ID</th>
                    <th>Customer Name</th>
					<th>Customer Address</th>
					<th>Customer Phone</th>
                    <th>Total Price</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for order in data %}
                <tr>
                    <td style="vertical-align: middle;">{{loop.index}}</td>
                    <td style="vertical-align: middle;">{{order.getid()}}</td>
                    <td style="vertical-align: middle;">{{order.getCustomerName()}}</td>
                    <td style="vertical-align: middle;">{{order.getCustomerAddress()}}</td>
					          <td style="vertical-align: middle;">{{order.getCustomerPhone()}}</td>
					          <td style="vertical-align: middle;">{{order.getTotalPrice()}}$</td>
					          <td style="vertical-align: middle;">{% if order.isStatus() == 1 %}done{% else %}pending{% endif %}</td>
                     
                    <td style="vertical-align: middle;">
                    <a href="{{path('app_orderitem_view',{'id':order.getId()})}}" class="btn btn-dark" style="font-weight:bold">More detail</a>
                    <a href="javascript:confirmch('{{path('app_mark',{'id':order.getId()})}}')" class="btn btn-danger"><i class="fas fa-trash"></i> Mark as Done</a>
                </tr>     
                {% endfor %}
            </tbody>
        </table>
        </section>  
    </div>
    </div>
{% endblock %}
{% block javascripts %}
<script>
    function confirmch(url){
        if(confirm("Are you sure?!"))
        {
            window.location.href = url;
        }
    }   
</script>        
{% endblock %}